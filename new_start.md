Если у вас не установлен пакет Node.js, то, естественно, сайт не запустится. Исправим ситуацию с помощью Docker. Для формирования собственного образа в папке проекта нужно создать файл Dockerfile без расширения. Внесите в него следующую информацию:

> FROM node:16-alpine<br>
> WORKDIR /site<br>
> COPY package.json /site<br>
> RUN npm install<br>
> COPY . /site<br>
> EXPOSE 80<br>
> CMD ["node", "main.js"]<br>

Рассмотрим приведенные инструкции:

| Инструкция | Описание |
|:-:|:-:|
| FROM | Указывает образ, на основании которого будет формироваться наш собственный (в данном случае, node 16-ой версии минимального размера) | 
| WORKDIR |	Папка в образе, в которой будет храниться наше приложение |
| COPY | 	Что (директория или файл на нашей машине) и куда (папка в образе) будет скопировано. Сначала мы скопировали файл зависимостей для установки требуемых пакетов, а потом переместили все содержимое проекта («.» - из текущей директории) в рабочий каталог образа|
| RUN |	Запускает команду при создании образа (для установки всех дополнительных приложений)|
| EXPOSE |	Открывает соответствующий порт (иначе мы не сможем получить доступ к содержимому проекта извне)|
| CMD |	Перечень команд в виде списка, которые будут срабатывать в момент активации контейнера (в примере это «node main.js»)|

## Создание собственного образа

Теперь можно создать собственный образ с проектом (сразу зададим ему имя goal-site):

> docker build . -t goal-site

Итак, образ успешно создан. Точка (.) после команды build обозначает текущий каталог (следовательно, берем Dockerfile из этой папки). Проверим созданный образ:

> docker images

## Запуск контейнера

Если попробовать запустить контейнер, то консоль перейдет в режим ожидания (мы ничего в ней больше не сможем сделать), а при наборе в браузере адреса localhost страница не отобразится (хоть он по умолчанию и прослушивает порт 80). Решим обе эти проблемы:
Чтобы процесс не занимал консоль, его удобно запускать в несвязанном режиме (detached, с помощью флага -d);
Для доступа к порту 80 внутри контейнера нужно указать, с какого конкретно порта на нашей машине мы будем туда заходить.

> docker run -d -p 5115:80 goal-site

Теперь открываем браузер и вводим адрес localhost:5115.

Итак, теперь нужно закрыть запущенный контейнер. Требуется применить команду stop и указать его имя или идентификатор. Выведите список запущенных контейнеров:

> docker ps


Остановите по имени (в данном случае, elegant_lovelace).

> docker stop elegant_lovelace

Теперь сервер не доступен, это можно проверить, обновив страницу браузера.

